<header class="px-2" data-controller="header">
	<nav class="flex items-center justify-between flex-wrap">
		<div class="flex items-center flex-no-shrink text-black mr-6">
			<% logo_path = current_user ? dashboard_index_path : root_path %>
			<%= link_to logo_path do %>
				<%= image_tag("svgs/Menu.svg", alt: "Menu principal", width: "30", height: "30") %>
			<% end %>
		</div>
		<div class="block sm:hidden">
			<button class="navbar-burger flex items-center px-3 py-2 border rounded text-white border-white hover:text-white hover:border-white" data-action="click->header#toggleMobileNav">
				<%= image_tag("svgs/IconMenu.svg", alt: "Menu Hamburguesa", width: "30", height: "30") %>
			</button>
		</div>
		<div id="main-nav" class="w-full flex-grow sm:flex text-right sm:w-auto hidden" data-header-target="mainNav">
			<div class="text-sm sm:flex-grow">
				<% nav_link_classes = 'ml-8 whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900' %>
				<% if current_user %>
					<%= link_to 'Admin', admin_dashboard_index_path, class: nav_link_classes if current_user.admin? %>
					<%= link_to 'Dashboard', dashboard_index_path, class: nav_link_classes %>
					<%= link_to 'Productos', products_path, class: nav_link_classes %>
					<%= link_to 'CategorÃ­as', categories_path, class: nav_link_classes %>
					<%= link_to 'Proveedores', providers_path, class: nav_link_classes %>
					<%= link_to 'Movimientos', movimientos_path, class: nav_link_classes %>
					<%= link_to 'Cuenta', account_index_path, class: nav_link_classes %>
					<%= link_to 'Salir', logout_path, class: nav_link_classes %>
				<% else %>
					<%= link_to 'Ingresa', new_user_session_path, class: nav_link_classes %>
					<%= link_to 'Registro', new_user_registration_path, class:'ml-8 whitespace-nowrap text-base font-medium inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700' %>
				<% end %>
			</div>
		</div>
	</nav>
</header>

<!-- smooth scroll nav links -->
<script type="text/javascript">
	document.querySelectorAll('a[href^="#"]').forEach(anchor => {
	anchor.addEventListener('click', function (e) {
	e.preventDefault();
	  document.querySelector(this.getAttribute('href')).scrollIntoView({
		behavior: 'smooth'
		});
	});
	});
</script>
