<% nav_link_classes = 'flex justify-between text-left items-center py-1 px-6 align-middle text-gray-600 no-underline hover:text-indigo-400 md:py-3 ' %>
<% active_link_classes = 'border-r-4 border-primary bg-violet-50' %>
<% icon_link = "text-primary" %>

<div class="flex h-screen flex-col justify-between border-r bg-white shadow-2xl border-gray-200 z-50">
  <div class="py-8">
    <button class="sm:hidden absolute top-0 right-0 navbar-burger flex items-center px-3 py-3 border rounded-full text-white border-white hover:text-gray-100 hover:bg-gray-200" data-action="click->header#toggleMobileNav">
      <%= image_tag("svgs/CloseBurger.svg", alt: "Menu Hamburguesa", width: "12", height: "12", class:'select-none') %>
    </button>
    <div class="flex flex-1 flex-col p-6 align-middle mt-1 divide-y-2 select-none">
      <%= image_tag "svgs/logo.svg", class: "w-[8rem]" %>
      <p class="text-xs my-2">
        <span class="text-primary font-black">Bienvenido</span>
        <%= tag.span(current_user.role.capitalize, class: 'text-black') %>
      </p>
    </div>
    <nav aria-label="Main" class="mt-[4rem]">
      <% if current_user.role === 'admin' %>
        <%= link_to admin_dashboard_index_path, class: "#{nav_link_classes} #{params[:controller] == 'admin/dashboard' ? active_link_classes : ''}" do %>
          <%= image_tag "svgs/IconAdmin.svg", class: "h-6 mr-3" %>
          <span class="hover:opacity-1 inline-block w-full pb-1 text-sm md:pb-0"> Admin </span>
        <% end %>
      <% end %>
      <%= link_to dashboard_index_path, class: "#{nav_link_classes} #{params[:controller] == 'dashboard' ? active_link_classes : ''}" do %>
        <%= image_tag "svgs/IconDash.svg", class: "text-primary stroke-primary h-6 mr-3" %>
        <span class="hover:opacity-1 inline-block w-full pb-1 text-sm md:pb-0"> Dashboard </span>
      <% end %>
      <%= link_to products_path, class: "#{nav_link_classes} #{params[:controller] == 'products' ? active_link_classes : ''}" do %>
        <%= image_tag "svgs/IconCaja.svg", class: "h-6 mr-3" %>
        <span class="hover:opacity-1 inline-block w-full pb-1 text-sm md:pb-0"> Productos </span>
      <% end %>
      <%= link_to inventories_path, class: "#{nav_link_classes} #{params[:controller] == 'inventories' ? active_link_classes : ''}" do %>
        <%= image_tag "svgs/IconInventory.svg", class: "h-6 mr-3" %>
        <span class="hover:opacity-1 inline-block w-full pb-1 text-sm md:pb-0"> Inventario </span>
      <% end %>
      <%= link_to categories_path, class: "#{nav_link_classes} #{params[:controller] == 'categories' ? active_link_classes : ''}" do %>
        <%= image_tag "svgs/IconCat.svg", class: "h-6 mr-3" %>
        <span class="hover:opacity-1 inline-block w-full pb-1 text-sm md:pb-0"> Categor√≠as </span>
      <% end %>
      <%= link_to providers_path, class: "#{nav_link_classes} #{params[:controller] == 'providers' ? active_link_classes : ''}" do %>
        <i class="fa-solid fa-people-carry-box h-6 mr-3 text-black"></i>
        <span class="hover:opacity-1 inline-block w-full pb-1 text-sm md:pb-0"> Proveedores </span>
      <% end %>
      <%= link_to clients_path, class: "#{nav_link_classes} #{params[:controller] == 'clients' ? active_link_classes : ''}" do %>
        <%= image_tag "svgs/IconProv.svg", class: "h-6 mr-3" %>
        <span class="hover:opacity-1 inline-block w-full pb-1 text-sm md:pb-0"> Clientes </span>
      <% end %>
    </nav>
    <details class="group [&_summary::-webkit-details-marker]:hidden">
      <summary class="flex justify-between text-left items-center py-1 px-6 align-middle text-gray-600 no-underline hover:text-indigo-400 md:py-3">
        <div class="flex items-center">
          <%= image_tag "svgs/AccountChar.svg", class: "h-6 mr-3" %>
          <span class="text-sm font-medium mr-1"> Cuenta </span>
        </div>
        <span class="shrink-0 transition duration-300 group-open:-rotate-180">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
          </svg>
        </span>
      </summary>
      <nav aria-label="Account Nav" class="flex flex-col ring-1 ring-primary rounded-md">
        <%= link_to account_index_path, class: "#{nav_link_classes} #{params[:controller] == 'account' ? active_link_classes : ''}" do %>
          <%= image_tag "svgs/IconUser.svg", class: "h-6 mr-3" %>
          <span class="hover:opacity-1 inline-block w-full pb-1 text-sm md:pb-0"> Detalles </span>
        <% end %>
        <%= link_to logout_path, class: "#{nav_link_classes}" do %>
          <%= image_tag "svgs/IconIngresarComo.svg", class: "h-6 mr-3" %>
          <span class="hover:opacity-1 inline-block w-full pb-1 text-sm md:pb-0"> Salir </span>
        <% end %>
      </nav>
    </details>
  </div>
  <div class="sticky inset-x-0 bottom-0 border-t border-gray-100 mx-auto mb-10">
    <div>
      <p class="text-xs pointer-events-none select-none">
        Copyrigth &copy; <%= tag.span(Date.today.year, class: 'text-primary') %>
      </p>
    </div>
  </div>
</div>
